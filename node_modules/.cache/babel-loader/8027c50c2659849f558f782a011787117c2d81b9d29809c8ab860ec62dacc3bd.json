{"ast":null,"code":"import _slicedToArray from\"/workspaces/TodoList/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useAppSelector}from\"../../store/hooks\";import Modal from\"./Modal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ModalDirectory=function ModalDirectory(_ref){var onClose=_ref.onClose,dirName=_ref.dirName,onConfirm=_ref.onConfirm,btnText=_ref.btnText,title=_ref.title;var directories=useAppSelector(function(store){return store.tasks.directories;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),errorDirectoryName=_useState2[0],setErrorDirectoryName=_useState2[1];var _useState3=useState(dirName?dirName:\"\"),_useState4=_slicedToArray(_useState3,2),newDirName=_useState4[0],setNewDirName=_useState4[1];var checkDirNameExists=function checkDirNameExists(val){var directoryDoesNotExist=directories.every(function(dir){return dir!==val;});if(directoryDoesNotExist||dirName===val){setErrorDirectoryName(false);}else{setErrorDirectoryName(true);}};var confirmDirNameHandler=function confirmDirNameHandler(e){e.preventDefault();if(errorDirectoryName)return;onConfirm(newDirName);onClose();};return/*#__PURE__*/_jsx(Modal,{onClose:onClose,title:title,children:/*#__PURE__*/_jsxs(\"form\",{className:\"stylesInputsField\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"dir-name\",className:\"\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"dir-name\",placeholder:\"Enter a directory name\",value:newDirName,onChange:function onChange(_ref2){var target=_ref2.target;return setNewDirName(target.value);},className:\"inputStyles block w-full\",onInput:function onInput(_ref3){var currentTarget=_ref3.currentTarget;return checkDirNameExists(currentTarget.value);}}),errorDirectoryName&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute bg-rose-500 text-slate-200 rounded-md p-2 top-full text-sm w-full font-medium z-20\",children:\"Directory name already exists\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn mt-6\",onClick:confirmDirNameHandler,children:btnText})]})});};export default ModalDirectory;","map":{"version":3,"names":["React","useState","useAppSelector","Modal","ModalDirectory","onClose","dirName","onConfirm","btnText","title","directories","store","tasks","errorDirectoryName","setErrorDirectoryName","newDirName","setNewDirName","checkDirNameExists","val","directoryDoesNotExist","every","dir","confirmDirNameHandler","e","preventDefault","target","value","currentTarget"],"sources":["/workspaces/TodoList/src/components/Utilities/ModalDirectory.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useAppSelector } from \"../../store/hooks\";\nimport Modal from \"./Modal\";\n\nconst ModalDirectory: React.FC<{\n  onClose: () => void;\n  dirName?: string;\n  onConfirm: (newDirName: string) => void;\n  btnText: string;\n  title: string;\n}> = ({ onClose, dirName, onConfirm, btnText, title }) => {\n  const directories = useAppSelector((store) => store.tasks.directories);\n\n  const [errorDirectoryName, setErrorDirectoryName] = useState<boolean>(false);\n  const [newDirName, setNewDirName] = useState<string>(dirName ? dirName : \"\");\n\n  const checkDirNameExists = (val: string) => {\n    const directoryDoesNotExist = directories.every(\n      (dir: string) => dir !== val\n    );\n\n    if (directoryDoesNotExist || dirName === val) {\n      setErrorDirectoryName(false);\n    } else {\n      setErrorDirectoryName(true);\n    }\n  };\n\n  const confirmDirNameHandler = (e: React.MouseEvent) => {\n    e.preventDefault();\n    if (errorDirectoryName) return;\n    onConfirm(newDirName);\n    onClose();\n  };\n\n  return (\n    <Modal onClose={onClose} title={title}>\n      <form className=\"stylesInputsField\">\n        <div className=\"relative\">\n          <label htmlFor=\"dir-name\" className=\"\">\n            Title\n          </label>\n          <input\n            type=\"text\"\n            id=\"dir-name\"\n            placeholder=\"Enter a directory name\"\n            value={newDirName}\n            onChange={({ target }) => setNewDirName(target.value)}\n            className={`inputStyles block w-full`}\n            onInput={({ currentTarget }) =>\n              checkDirNameExists(currentTarget.value)\n            }\n          />\n          {errorDirectoryName && (\n            <div className=\"absolute bg-rose-500 text-slate-200 rounded-md p-2 top-full text-sm w-full font-medium z-20\">\n              Directory name already exists\n            </div>\n          )}\n        </div>\n        <button className=\"btn mt-6\" onClick={confirmDirNameHandler}>\n          {btnText}\n        </button>\n      </form>\n    </Modal>\n  );\n};\n\nexport default ModalDirectory;\n"],"mappings":"0GAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,cAAc,KAAQ,mBAAmB,CAClD,MAAOC,MAAK,KAAM,SAAS,CAAC,wFAE5B,GAAMC,eAMJ,CAAG,QANCA,eAMJ,MAAwD,IAAlDC,QAAO,MAAPA,OAAO,CAAEC,OAAO,MAAPA,OAAO,CAAEC,SAAS,MAATA,SAAS,CAAEC,OAAO,MAAPA,OAAO,CAAEC,KAAK,MAALA,KAAK,CACjD,GAAMC,YAAW,CAAGR,cAAc,CAAC,SAACS,KAAK,QAAKA,MAAK,CAACC,KAAK,CAACF,WAAW,GAAC,CAEtE,cAAoDT,QAAQ,CAAU,KAAK,CAAC,wCAArEY,kBAAkB,eAAEC,qBAAqB,eAChD,eAAoCb,QAAQ,CAASK,OAAO,CAAGA,OAAO,CAAG,EAAE,CAAC,yCAArES,UAAU,eAAEC,aAAa,eAEhC,GAAMC,mBAAkB,CAAG,QAArBA,mBAAkB,CAAIC,GAAW,CAAK,CAC1C,GAAMC,sBAAqB,CAAGT,WAAW,CAACU,KAAK,CAC7C,SAACC,GAAW,QAAKA,IAAG,GAAKH,GAAG,GAC7B,CAED,GAAIC,qBAAqB,EAAIb,OAAO,GAAKY,GAAG,CAAE,CAC5CJ,qBAAqB,CAAC,KAAK,CAAC,CAC9B,CAAC,IAAM,CACLA,qBAAqB,CAAC,IAAI,CAAC,CAC7B,CACF,CAAC,CAED,GAAMQ,sBAAqB,CAAG,QAAxBA,sBAAqB,CAAIC,CAAmB,CAAK,CACrDA,CAAC,CAACC,cAAc,EAAE,CAClB,GAAIX,kBAAkB,CAAE,OACxBN,SAAS,CAACQ,UAAU,CAAC,CACrBV,OAAO,EAAE,CACX,CAAC,CAED,mBACE,KAAC,KAAK,EAAC,OAAO,CAAEA,OAAQ,CAAC,KAAK,CAAEI,KAAM,uBACpC,cAAM,SAAS,CAAC,mBAAmB,wBACjC,aAAK,SAAS,CAAC,UAAU,wBACvB,cAAO,OAAO,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,mBAE9B,cACR,cACE,IAAI,CAAC,MAAM,CACX,EAAE,CAAC,UAAU,CACb,WAAW,CAAC,wBAAwB,CACpC,KAAK,CAAEM,UAAW,CAClB,QAAQ,CAAE,4BAAGU,OAAM,OAANA,MAAM,OAAOT,cAAa,CAACS,MAAM,CAACC,KAAK,CAAC,EAAC,CACtD,SAAS,2BAA6B,CACtC,OAAO,CAAE,2BAAGC,cAAa,OAAbA,aAAa,OACvBV,mBAAkB,CAACU,aAAa,CAACD,KAAK,CAAC,EACxC,EACD,CACDb,kBAAkB,eACjB,YAAK,SAAS,CAAC,6FAA6F,2CAG7G,GACG,cACN,eAAQ,SAAS,CAAC,UAAU,CAAC,OAAO,CAAES,qBAAsB,UACzDd,OAAO,EACD,GACJ,EACD,CAEZ,CAAC,CAED,cAAeJ,eAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}