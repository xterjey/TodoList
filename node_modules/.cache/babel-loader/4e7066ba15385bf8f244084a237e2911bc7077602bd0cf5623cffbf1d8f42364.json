{"ast":null,"code":"var _jsxFileName = \"/home/jayourbae/ToDo-app/src/components/TasksSection/TaskItem/InfosTask.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { ReactComponent as Calendar } from \"../../../assets/date.svg\";\nimport useDate from \"../../hooks/useDate\";\n\n// Utility functions\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getDomainName = url => {\n  try {\n    const hostname = new URL(url).hostname;\n    return hostname.replace(/^www\\./, '').split('.').slice(0, -1).join(' ');\n  } catch (error) {\n    console.error(\"Error extracting domain name:\", error);\n    return \"Invalid URL\";\n  }\n};\nconst getFaviconUrl = url => {\n  try {\n    const domain = new URL(url).hostname;\n    return `https://${domain}/favicon.ico`;\n  } catch (error) {\n    console.error(\"Error extracting favicon URL:\", error);\n    return \"\";\n  }\n};\nconst InfosTask = _ref => {\n  _s();\n  let {\n    task,\n    isListInView1,\n    onTimerEnd\n  } = _ref;\n  const [remainingTime, setRemainingTime] = useState(0);\n  const dateFormatted = useDate(task.date || \"\");\n  useEffect(() => {\n    var _task$timer;\n    const key = `endTime_${task.title}`;\n    const savedEndTime = localStorage.getItem(key);\n    const endTime = savedEndTime ? parseInt(savedEndTime, 10) : Date.now() + ((_task$timer = task.timer) !== null && _task$timer !== void 0 ? _task$timer : 0) * 3600000;\n    if (task.timer) {\n      localStorage.setItem(key, endTime.toString());\n      const updateTimer = () => {\n        const now = Date.now();\n        const timeLeft = Math.max(0, Math.floor((endTime - now) / 1000));\n        setRemainingTime(timeLeft);\n        if (timeLeft <= 0) {\n          localStorage.removeItem(key);\n          if (onTimerEnd) onTimerEnd(task.id); // Call onTimerEnd with taskId\n        }\n      };\n\n      updateTimer();\n      const intervalId = setInterval(updateTimer, 1000);\n      return () => clearInterval(intervalId);\n    }\n  }, [task.timer, task.title, onTimerEnd]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `flex flex-col ${isListInView1 ? \"mr-9\" : \"\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col mb-2\",\n      children: [dateFormatted && /*#__PURE__*/_jsxDEV(\"time\", {\n        className: \"flex items-center mb-1 text-slate-500 dark:text-slate-400\",\n        children: [/*#__PURE__*/_jsxDEV(Calendar, {\n          className: \"mr-2 w-4 sm:w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), \" \", dateFormatted]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"flex items-center font-medium text-slate-800 dark:text-slate-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"mr-2\",\n          children: task.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), task.url && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: getFaviconUrl(task.url),\n          alt: \"favicon\",\n          className: \"h-6 w-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), task.url && /*#__PURE__*/_jsxDEV(\"a\", {\n      href: task.url,\n      title: getDomainName(task.url),\n      className: `block mb-2 text-slate-800 dark:text-slate-200 flex items-center ${isListInView1 ? \"line-clamp-2 sm:line-clamp-1\" : \"line-clamp-3\"}`,\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      \"aria-label\": getDomainName(task.url),\n      children: getDomainName(task.url)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this), [task.discord, task.blockchain, task.twitter, task.telegram].map((link, index) => link ? /*#__PURE__*/_jsxDEV(\"a\", {\n      href: link,\n      title: getDomainName(link),\n      className: `block mb-2 text-slate-800 dark:text-slate-200 flex items-center ${isListInView1 ? \"line-clamp-2 sm:line-clamp-1\" : \"line-clamp-3\"}`,\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      \"aria-label\": getDomainName(link),\n      children: getDomainName(link)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }, this) : null), task.wallet && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-2 flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-slate-800 dark:text-slate-200\",\n        children: \"Wallet:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ml-2\",\n        children: task.wallet\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n_s(InfosTask, \"a3Njjlt9F/wCB/vdpRTEoD9mcGc=\", false, function () {\n  return [useDate];\n});\n_c = InfosTask;\nexport default InfosTask;\nvar _c;\n$RefreshReg$(_c, \"InfosTask\");","map":{"version":3,"names":["React","useEffect","useState","ReactComponent","Calendar","useDate","getDomainName","url","hostname","URL","replace","split","slice","join","error","console","getFaviconUrl","domain","InfosTask","task","isListInView1","onTimerEnd","remainingTime","setRemainingTime","dateFormatted","date","key","title","savedEndTime","localStorage","getItem","endTime","parseInt","Date","now","timer","setItem","toString","updateTimer","timeLeft","Math","max","floor","removeItem","id","intervalId","setInterval","clearInterval","discord","blockchain","twitter","telegram","map","link","index","wallet"],"sources":["/home/jayourbae/ToDo-app/src/components/TasksSection/TaskItem/InfosTask.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Task } from \"../../../interfaces\";\nimport { ReactComponent as Calendar } from \"../../../assets/date.svg\";\nimport useDate from \"../../hooks/useDate\";\n\n// Utility functions\nconst getDomainName = (url: string) => {\n  try {\n    const hostname = new URL(url).hostname;\n    return hostname.replace(/^www\\./, '').split('.').slice(0, -1).join(' ');\n  } catch (error) {\n    console.error(\"Error extracting domain name:\", error);\n    return \"Invalid URL\";\n  }\n};\n\nconst getFaviconUrl = (url: string) => {\n  try {\n    const domain = new URL(url).hostname;\n    return `https://${domain}/favicon.ico`;\n  } catch (error) {\n    console.error(\"Error extracting favicon URL:\", error);\n    return \"\";\n  }\n};\n\ninterface InfosTaskProps {\n  task: Task;\n  isListInView1: boolean;\n  onTimerEnd?: (taskId: string) => void; // New prop\n}\n\nconst InfosTask: React.FC<InfosTaskProps> = ({ task, isListInView1, onTimerEnd }) => {\n  const [remainingTime, setRemainingTime] = useState<number>(0);\n  const dateFormatted = useDate(task.date || \"\");\n\n  useEffect(() => {\n    const key = `endTime_${task.title}`;\n    const savedEndTime = localStorage.getItem(key);\n    const endTime = savedEndTime ? parseInt(savedEndTime, 10) : Date.now() + (task.timer ?? 0) * 3600000;\n\n    if (task.timer) {\n      localStorage.setItem(key, endTime.toString());\n      const updateTimer = () => {\n        const now = Date.now();\n        const timeLeft = Math.max(0, Math.floor((endTime - now) / 1000));\n        setRemainingTime(timeLeft);\n\n        if (timeLeft <= 0) {\n          localStorage.removeItem(key);\n          if (onTimerEnd) onTimerEnd(task.id); // Call onTimerEnd with taskId\n        }\n      };\n\n      updateTimer();\n      const intervalId = setInterval(updateTimer, 1000);\n      return () => clearInterval(intervalId);\n    }\n  }, [task.timer, task.title, onTimerEnd]);\n\n  return (\n    <div className={`flex flex-col ${isListInView1 ? \"mr-9\" : \"\"}`}>\n      {/* Container for date and title */}\n      <div className=\"flex flex-col mb-2\">\n        {dateFormatted && (\n          <time className=\"flex items-center mb-1 text-slate-500 dark:text-slate-400\">\n            <Calendar className=\"mr-2 w-4 sm:w-5\" /> {dateFormatted}\n          </time>\n        )}\n      <span className=\"flex items-center font-medium text-slate-800 dark:text-slate-200\">\n          <span className=\"mr-2\">{task.title}</span>\n          {task.url && (\n            <img\n              src={getFaviconUrl(task.url)}\n              alt=\"favicon\"\n              className=\"h-6 w-6\"\n            />\n          )}\n        </span>\n      </div>\n      {task.url && (\n        <a\n          href={task.url}\n          title={getDomainName(task.url)}\n          className={`block mb-2 text-slate-800 dark:text-slate-200 flex items-center ${isListInView1 ? \"line-clamp-2 sm:line-clamp-1\" : \"line-clamp-3\"}`}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          aria-label={getDomainName(task.url)}\n        >\n          {getDomainName(task.url)}\n        </a>\n      )}\n      {[task.discord,task.blockchain ,task.twitter, task.telegram].map((link, index) =>\n        link ? (\n          <a\n            key={index}\n            href={link}\n            title={getDomainName(link)}\n            className={`block mb-2 text-slate-800 dark:text-slate-200 flex items-center ${isListInView1 ? \"line-clamp-2 sm:line-clamp-1\" : \"line-clamp-3\"}`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            aria-label={getDomainName(link)}\n          >\n            {getDomainName(link)}\n          </a>\n        ) : null\n        \n      )}\n      {task.wallet && (\n        <div className=\"mt-2 flex items-center\">\n<span className=\"text-slate-800 dark:text-slate-200\">Wallet:</span>\n          <span className=\"ml-2\">{task.wallet}</span>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default InfosTask;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}