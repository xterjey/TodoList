{"ast":null,"code":"import React,{useRef}from\"react\";import useVisibility from\"../hooks/useVisibility\";import{ReactComponent as IconBell}from\"../../assets/bell.svg\";import useTodayTasks from\"../hooks/useTodayTasks\";import useCompletedTasks from\"../hooks/useCompletedTasks\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var classHasNotification=\"after:content-[''] after:w-2 after:h-2 after:bg-rose-500 block after:rounded-full after:absolute after:bottom-3/4  after:left-3/4\";var Notification=function Notification(){var refBtnNotification=useRef(null);var _useVisibility=useVisibility([refBtnNotification.current]),notificationIsVisible=_useVisibility.elementIsVisible,showNotifications=_useVisibility.showElement;var todaysTasks=useTodayTasks();var _useCompletedTasks=useCompletedTasks({tasks:todaysTasks,done:false}),uncompletedTasks=_useCompletedTasks.tasks;var tasksToShow=uncompletedTasks.slice(0,3);var moreTasksToShow=uncompletedTasks.length>tasksToShow.length;return/*#__PURE__*/_jsxs(\"div\",{className:\"sm:mr-4 md:mr-6 ml-auto grid place-items-center relative\",children:[/*#__PURE__*/_jsx(\"button\",{ref:refBtnNotification,onClick:showNotifications,className:\"relative \".concat(tasksToShow.length?classHasNotification:\"\"),title:\"see notifications\",children:/*#__PURE__*/_jsx(IconBell,{className:\"fill-violet-600 w-5 h-5 md:w-6 md:h-6 dark:fill-violet-800\"})}),notificationIsVisible&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute bg-slate-100 dark:bg-slate-800 top-full rounded-md right-0 p-3 w-52 border border-slate-300 dark:border-slate-700\",children:uncompletedTasks.length>0?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"dark:text-slate-200 font-medium\",children:[\"You have \",uncompletedTasks.length,\" uncompleted tasks today:\"]}),/*#__PURE__*/_jsx(\"ul\",{children:tasksToShow.map(function(task){return/*#__PURE__*/_jsx(\"li\",{className:\"py-1\",children:/*#__PURE__*/_jsx(Link,{to:\"/task/\".concat(task.id),className:\"hover:text-slate-200 transition\",children:task.title})},task.id);})}),moreTasksToShow&&/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"transition block w-full rounded-md p-1 bg-rose-100 text-rose-600 dark:text-slate-200 dark:bg-slate-700/[.3] text-center\",children:\"See today's tasks\"})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Nothing to show here.\"})})]});};export default/*#__PURE__*/React.memo(Notification);","map":{"version":3,"names":["React","useRef","useVisibility","ReactComponent","IconBell","useTodayTasks","useCompletedTasks","Link","classHasNotification","Notification","refBtnNotification","current","notificationIsVisible","elementIsVisible","showNotifications","showElement","todaysTasks","tasks","done","uncompletedTasks","tasksToShow","slice","moreTasksToShow","length","map","task","id","title","memo"],"sources":["/workspaces/TodoList/src/components/TasksSection/Notification.tsx"],"sourcesContent":["import React, { useRef } from \"react\";\nimport useVisibility from \"../hooks/useVisibility\";\nimport { ReactComponent as IconBell } from \"../../assets/bell.svg\";\nimport useTodayTasks from \"../hooks/useTodayTasks\";\nimport useCompletedTasks from \"../hooks/useCompletedTasks\";\nimport { Link } from \"react-router-dom\";\n\nconst classHasNotification =\n  \"after:content-[''] after:w-2 after:h-2 after:bg-rose-500 block after:rounded-full after:absolute after:bottom-3/4  after:left-3/4\";\n\nconst Notification: React.FC = () => {\n  const refBtnNotification = useRef<HTMLButtonElement>(null);\n\n  const {\n    elementIsVisible: notificationIsVisible,\n    showElement: showNotifications,\n  } = useVisibility([refBtnNotification.current!]);\n\n  const todaysTasks = useTodayTasks();\n\n  const { tasks: uncompletedTasks } = useCompletedTasks({\n    tasks: todaysTasks,\n    done: false,\n  });\n\n  const tasksToShow = uncompletedTasks.slice(0, 3);\n\n  const moreTasksToShow = uncompletedTasks.length > tasksToShow.length;\n  return (\n    <div className=\"sm:mr-4 md:mr-6 ml-auto grid place-items-center relative\">\n      <button\n        ref={refBtnNotification}\n        onClick={showNotifications}\n        className={`relative ${tasksToShow.length ? classHasNotification : \"\"}`}\n        title=\"see notifications\"\n      >\n        <IconBell className=\"fill-violet-600 w-5 h-5 md:w-6 md:h-6 dark:fill-violet-800\" />\n      </button>\n      {notificationIsVisible && (\n        <div className=\"absolute bg-slate-100 dark:bg-slate-800 top-full rounded-md right-0 p-3 w-52 border border-slate-300 dark:border-slate-700\">\n          {uncompletedTasks.length > 0 ? (\n            <div>\n              <span className=\"dark:text-slate-200 font-medium\">\n                You have {uncompletedTasks.length} uncompleted tasks today:\n              </span>\n              <ul>\n                {tasksToShow.map((task) => (\n                  <li key={task.id} className=\"py-1\">\n                    <Link\n                      to={`/task/${task.id}`}\n                      className=\"hover:text-slate-200 transition\"\n                    >\n                      {task.title}\n                    </Link>\n                  </li>\n                ))}\n              </ul>\n              {moreTasksToShow && (\n                <a\n                  href=\"/\"\n                  className=\"transition block w-full rounded-md p-1 bg-rose-100 text-rose-600 dark:text-slate-200 dark:bg-slate-700/[.3] text-center\"\n                >\n                  See today's tasks\n                </a>\n              )}\n            </div>\n          ) : (\n            <p>Nothing to show here.</p>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default React.memo(Notification);\n"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,MAAM,KAAQ,OAAO,CACrC,MAAOC,cAAa,KAAM,wBAAwB,CAClD,OAASC,cAAc,GAAIC,SAAQ,KAAQ,uBAAuB,CAClE,MAAOC,cAAa,KAAM,wBAAwB,CAClD,MAAOC,kBAAiB,KAAM,4BAA4B,CAC1D,OAASC,IAAI,KAAQ,kBAAkB,CAAC,wFAExC,GAAMC,qBAAoB,CACxB,mIAAmI,CAErI,GAAMC,aAAsB,CAAG,QAAzBA,aAAsB,EAAS,CACnC,GAAMC,mBAAkB,CAAGT,MAAM,CAAoB,IAAI,CAAC,CAE1D,mBAGIC,aAAa,CAAC,CAACQ,kBAAkB,CAACC,OAAO,CAAE,CAAC,CAF5BC,qBAAqB,gBAAvCC,gBAAgB,CACHC,iBAAiB,gBAA9BC,WAAW,CAGb,GAAMC,YAAW,CAAGX,aAAa,EAAE,CAEnC,uBAAoCC,iBAAiB,CAAC,CACpDW,KAAK,CAAED,WAAW,CAClBE,IAAI,CAAE,KACR,CAAC,CAAC,CAHaC,gBAAgB,oBAAvBF,KAAK,CAKb,GAAMG,YAAW,CAAGD,gBAAgB,CAACE,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAEhD,GAAMC,gBAAe,CAAGH,gBAAgB,CAACI,MAAM,CAAGH,WAAW,CAACG,MAAM,CACpE,mBACE,aAAK,SAAS,CAAC,0DAA0D,wBACvE,eACE,GAAG,CAAEb,kBAAmB,CACxB,OAAO,CAAEI,iBAAkB,CAC3B,SAAS,oBAAcM,WAAW,CAACG,MAAM,CAAGf,oBAAoB,CAAG,EAAE,CAAG,CACxE,KAAK,CAAC,mBAAmB,uBAEzB,KAAC,QAAQ,EAAC,SAAS,CAAC,4DAA4D,EAAG,EAC5E,CACRI,qBAAqB,eACpB,YAAK,SAAS,CAAC,4HAA4H,UACxIO,gBAAgB,CAACI,MAAM,CAAG,CAAC,cAC1B,oCACE,cAAM,SAAS,CAAC,iCAAiC,uBACrCJ,gBAAgB,CAACI,MAAM,+BAC5B,cACP,oBACGH,WAAW,CAACI,GAAG,CAAC,SAACC,IAAI,qBACpB,WAAkB,SAAS,CAAC,MAAM,uBAChC,KAAC,IAAI,EACH,EAAE,iBAAWA,IAAI,CAACC,EAAE,CAAG,CACvB,SAAS,CAAC,iCAAiC,UAE1CD,IAAI,CAACE,KAAK,EACN,EANAF,IAAI,CAACC,EAAE,CAOX,EACN,CAAC,EACC,CACJJ,eAAe,eACd,UACE,IAAI,CAAC,GAAG,CACR,SAAS,CAAC,yHAAyH,+BAItI,GACG,cAEN,4CACD,EAEJ,GACG,CAEV,CAAC,CAED,2BAAetB,KAAK,CAAC4B,IAAI,CAACnB,YAAY,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}