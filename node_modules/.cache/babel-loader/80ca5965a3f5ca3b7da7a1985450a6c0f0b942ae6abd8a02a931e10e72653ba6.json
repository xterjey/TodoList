{"ast":null,"code":"import _slicedToArray from\"/workspaces/TodoList/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";var useVisibility=function useVisibility(elements,fnClose){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),elementIsVisible=_useState2[0],setElementIsVisible=_useState2[1];useEffect(function(){var checkClick=function checkClick(e){if(!elements)return;var clickedOutsideElement=elements.every(function(element){if(!element)return false;if(e.target!==element&&!element.contains(e.target)){return true;}return false;});if(clickedOutsideElement){setElementIsVisible(false);if(fnClose)fnClose();}};document.addEventListener(\"click\",checkClick);return function(){document.removeEventListener(\"click\",checkClick);};},[elements,fnClose]);var closeElement=function closeElement(){setElementIsVisible(false);};var showElement=function showElement(){setElementIsVisible(true);};return{elementIsVisible:elementIsVisible,closeElement:closeElement,showElement:showElement};};export default useVisibility;","map":{"version":3,"names":["useEffect","useState","useVisibility","elements","fnClose","elementIsVisible","setElementIsVisible","checkClick","e","clickedOutsideElement","every","element","target","contains","document","addEventListener","removeEventListener","closeElement","showElement"],"sources":["/workspaces/TodoList/src/components/hooks/useVisibility.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nconst useVisibility = (elements: HTMLElement[], fnClose?: () => void) => {\n  const [elementIsVisible, setElementIsVisible] = useState<boolean>(false);\n\n  useEffect(() => {\n    const checkClick = (e: MouseEvent) => {\n      if (!elements) return;\n\n      const clickedOutsideElement = elements.every((element) => {\n        if (!element) return false;\n        if (\n          e.target !== element &&\n          !element.contains(e.target as HTMLElement)\n        ) {\n          return true;\n        }\n        return false;\n      });\n\n      if (clickedOutsideElement) {\n        setElementIsVisible(false);\n        if (fnClose) fnClose();\n      }\n    };\n\n    document.addEventListener(\"click\", checkClick);\n    return () => {\n      document.removeEventListener(\"click\", checkClick);\n    };\n  }, [elements, fnClose]);\n\n  const closeElement = () => {\n    setElementIsVisible(false);\n  };\n\n  const showElement = () => {\n    setElementIsVisible(true);\n  };\n\n  return { elementIsVisible, closeElement, showElement };\n};\n\nexport default useVisibility;\n"],"mappings":"0GAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAE3C,GAAMC,cAAa,CAAG,QAAhBA,cAAa,CAAIC,QAAuB,CAAEC,OAAoB,CAAK,CACvE,cAAgDH,QAAQ,CAAU,KAAK,CAAC,wCAAjEI,gBAAgB,eAAEC,mBAAmB,eAE5CN,SAAS,CAAC,UAAM,CACd,GAAMO,WAAU,CAAG,QAAbA,WAAU,CAAIC,CAAa,CAAK,CACpC,GAAI,CAACL,QAAQ,CAAE,OAEf,GAAMM,sBAAqB,CAAGN,QAAQ,CAACO,KAAK,CAAC,SAACC,OAAO,CAAK,CACxD,GAAI,CAACA,OAAO,CAAE,MAAO,MAAK,CAC1B,GACEH,CAAC,CAACI,MAAM,GAAKD,OAAO,EACpB,CAACA,OAAO,CAACE,QAAQ,CAACL,CAAC,CAACI,MAAM,CAAgB,CAC1C,CACA,MAAO,KAAI,CACb,CACA,MAAO,MAAK,CACd,CAAC,CAAC,CAEF,GAAIH,qBAAqB,CAAE,CACzBH,mBAAmB,CAAC,KAAK,CAAC,CAC1B,GAAIF,OAAO,CAAEA,OAAO,EAAE,CACxB,CACF,CAAC,CAEDU,QAAQ,CAACC,gBAAgB,CAAC,OAAO,CAAER,UAAU,CAAC,CAC9C,MAAO,WAAM,CACXO,QAAQ,CAACE,mBAAmB,CAAC,OAAO,CAAET,UAAU,CAAC,CACnD,CAAC,CACH,CAAC,CAAE,CAACJ,QAAQ,CAAEC,OAAO,CAAC,CAAC,CAEvB,GAAMa,aAAY,CAAG,QAAfA,aAAY,EAAS,CACzBX,mBAAmB,CAAC,KAAK,CAAC,CAC5B,CAAC,CAED,GAAMY,YAAW,CAAG,QAAdA,YAAW,EAAS,CACxBZ,mBAAmB,CAAC,IAAI,CAAC,CAC3B,CAAC,CAED,MAAO,CAAED,gBAAgB,CAAhBA,gBAAgB,CAAEY,YAAY,CAAZA,YAAY,CAAEC,WAAW,CAAXA,WAAY,CAAC,CACxD,CAAC,CAED,cAAehB,cAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}